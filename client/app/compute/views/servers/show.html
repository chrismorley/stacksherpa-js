<div data-ng-controller="ComputeCtrl">
	<div class="row">
		<ng-include src="'app/compute/views/common/nav.html'">
	</div>
	<div class="row">
		<div class="span12">
			<div class="well well-small">
				<table style="width: 100%">
					<tbody>
						<tr>
							<td>
								<a href="#/{{$routeParams.tenant}}/compute/{{$routeParams.region}}/servers" class="btn btn-small btn-show"><span class="icon-list"></span> Back</a>
							</td>
							<td style="text-align: right">
								<button class="btn btn-small btn-delete" data-ng-click="onDelete()"><span class="icon-trash"></span> Delete</button>
								<a class="btn btn-small btn-refresh" data-ng-click="onRefresh(true)"><span class="icon-refresh"></span> Refresh</a>

							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<h1>{{server.name}}</h1>
			<table id="server-show">
				<tr>
					<td style="vertical-align: top">
						<!-- LEFT -->
						<table class="table table-stripped {style.details}}">
							<tbody>
								<tr>
									<td style="font-weight: bold">ID</td>
									<td>{{server.id}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Status</td>
									<td>
										<table class="{style.details}}">
											<tbody>
												<tr>
													<td style="border: 0; padding: 0; padding-right: 8px">
														{{server.status}} <span ng-show="server.progress && server.progress != 0 && server.progress != 100">{{server.progress}} %</span>
													</td>
													<td style="border: 0; padding: 0; padding-right: 8px; text-align: right">
														<div ng-show="server.status == 'ACTIVE'">
														<a class="modal-link" modal-src="app/compute/views/servers/reboot.html">Reboot</a>
														<span ng-show="hasRole('admin')">
														| <a data-ng-click="onPause()">Pause</a>
														| <a data-ng-click="onSuspend()">Suspend</a>
														| <a data-ng-click="onLock()">Lock</a>
														</div>
														<div ng-show="server.status == 'PAUSED'">
														| <a data-ng-click="onUnpause()">Unpause</a>
														</div>
														<div ng-show="server.status == 'SUSPENDED'">
														| <a data-ng-click="onResume()">Resume</a>
														</div>
														<div ng-show="server.status == 'LOCKED'">
														| <a data-ng-click="onUnlock()">Unlock</a>
														</span>
														</div>
														<div ng-show="server.status == 'VERIFY_RESIZE'">
														<a data-ng-click="onResizeVerify()">Confirm</a>
														| <a data-ng-click="onResizeRevert()">Revert</a>
														</div>
													</td>
												</tr>
											</tbody>
										</table>
									</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Disk Config</td>
									<td>{{server['OS-DCF:diskConfig']}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Created</td>
									<td>{{server.created}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Updated</td>
									<td>{{server.updated}}</td>
								</tr>
								<tr ng-show="server.status == 'ACTIVE'">
									<td colspan="2">
										<a class="modal-link" modal-src="app/compute/views/servers/console.html">Show console output</a> |
										<a class="modal-link" modal-src="app/compute/views/servers/sshinfo.html">SSH Connection Information</a> | 
										<a class="modal-link" modal-src="app/compute/views/servers/vnc.html">VNC Connection</a>
									</td>
								</tr>
								<tr ng-show="server.status == 'ACTIVE'">
									<td colspan="2">
										<a class="modal-link" modal-src="app/compute/views/servers/create-image.html">Create Image</a>
									</td>
								</tr>
								<tr ng-show="server.status == 'ACTIVE'">
									<td colspan="2">
										<a class="modal-link" modal-src="app/compute/views/servers/change-password.html">Change Password</a>
									</td>
								</tr>
								<tr ng-show="hasRole('admin') && server.status == 'ACTIVE'">
									<td colspan="2">
										<a class="modal-link" modal-src="app/compute/views/servers/backup.html">Create Backup</a>
									</td>
								</tr>
							</tbody>
						</table>
						<!-- LEFT -->
					</td>
					<td style="vertical-align: top">
						<!-- RIGHT -->
						<table class="table table-stripped {style.details}}">
							<tbody>
								<tr>
									<td style="font-weight: bold">Image</td>
									<td style="vertical-align: middle">
										<img ng-src="{{server.image.name|logo}}" style="width: 32px; margin-right: 8px" />
										<span style="margin-right: 8px">{{server.image.name}}</span>
										<a class="modal-link" modal-src="app/compute/views/servers/rebuild.html" data-ng-show="server.status == 'ACTIVE'">Rebuild</a>
									</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Flavor</td>
									<td>
										<span style="margin-right: 8px">{{server.flavor.name}} - {{server.flavor.vcpus}} vCPUs, {{server.flavor.ram}} RAM, {{server.flavor.disk}} Disk</span>
										<a class="modal-link" modal-src="app/compute/views/servers/resize.html" ng-show="server.status == 'ACTIVE'">Resize</a>
									</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Host</td>
									<td>{{server.hostId}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Key Name</td>
									<td>{{server.key_name}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">Tenant ID</td>
									<td>{{server.tenant_id}}</td>
								</tr>
								<tr>
									<td style="font-weight: bold">User ID</td>
									<td>{{server.user_id}}</td>
								</tr>
							</tbody>
						</table>
						<!-- RIGHT -->
					</td>
				</tr>
			</table>
		</div>
	</div>
</div>